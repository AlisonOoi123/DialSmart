{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section bg-gradient-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold">Find Your Perfect Smartphone with AI-Powered Recommendations</h1>
                <p class="lead">Personalized suggestions for Malaysian consumers</p>
                <div class="mt-4">
                    <a href="{{ url_for('user.recommendation_wizard') }}" class="btn btn-light btn-lg me-3">
                        <i class="bi bi-robot"></i> Get AI Recommendation
                    </a>
                    <a href="{{ url_for('user.browse') }}" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-phone"></i> Browse Phones
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <img src="{{ url_for('static', filename='images/hero-phone.png') }}" alt="Smartphone" class="img-fluid" onerror="this.src='https://via.placeholder.com/500x600?text=Smartphone'">
            </div>
        </div>
    </div>
</section>

<!-- Feature Cards Section -->
<section class="py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card h-100 text-center shadow-sm">
                    <div class="card-body">
                        <div class="feature-icon bg-primary text-white rounded-circle mx-auto mb-3" style="width: 80px; height: 80px; line-height: 80px;">
                            <i class="bi bi-robot" style="font-size: 2rem;"></i>
                        </div>
                        <h5 class="card-title">AI Chatbot Assistant</h5>
                        <p class="card-text">Get instant help with our smart assistant powered by machine learning</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 text-center shadow-sm">
                    <div class="card-body">
                        <div class="feature-icon bg-success rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <img src="{{ url_for('static', filename='images/comparePhone.png') }}" alt="Compare Phones" style="width: 50px; height: 50px; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <i class="bi bi-phone-compare text-white" style="font-size: 2rem; display: none;"></i>
                        </div>
                        <h5 class="card-title">Phone Comparison</h5>
                        <p class="card-text">Compare phones side-by-side with detailed specifications</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 text-center shadow-sm">
                    <div class="card-body">
                        <div class="feature-icon bg-warning text-white rounded-circle mx-auto mb-3" style="width: 80px; height: 80px; line-height: 80px;">
                            <i class="bi bi-sliders" style="font-size: 2rem;"></i>
                        </div>
                        <h5 class="card-title">Personalized Filters</h5>
                        <p class="card-text">Find phones that match your specific needs and budget</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Brand Showcase Section -->
<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-4">Featured Brands</h2>
        <div class="row g-3">
            {% for brand in featured_brands %}
            <div class="col-6 col-md-4 col-lg-2">
                <a href="{{ url_for('phone.brand_page', brand_id=brand.id) }}" class="text-decoration-none">
                    <div class="card text-center h-100 shadow-sm hover-lift">
                        <div class="card-body">
                            {% if brand.logo_url %}
                            <img src="{{ brand.logo_url }}" alt="{{ brand.name }}" class="img-fluid mb-2" style="max-height: 50px;">
                            {% else %}
                            <h5 class="mb-0">{{ brand.name }}</h5>
                            {% endif %}
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Latest Phones Section -->
{% if latest_phones %}
<section class="py-5">
    <div class="container">
        <h2 class="mb-4">Latest Smartphones</h2>
        <div class="row g-4">
            {% for phone in latest_phones %}
            <div class="col-md-4">
                <div class="card h-100 shadow-sm">
                    {% if phone.main_image %}
                    <img src="{{ phone.main_image }}" class="card-img-top" alt="{{ phone.model_name }}" onerror="this.src='https://via.placeholder.com/300x400?text={{ phone.model_name }}'">
                    {% else %}
                    <img src="https://via.placeholder.com/300x400?text={{ phone.model_name }}" class="card-img-top" alt="{{ phone.model_name }}">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ phone.model_name }}</h5>
                        <p class="text-muted">{{ phone.brand.name }}</p>
                        <h4 class="text-primary">RM {{ "{:,.2f}".format(phone.price) }}</h4>

                        {% if phone.specifications %}
                        <div class="specs-icons mt-3">
                            <small class="text-muted">
                                <i class="bi bi-memory"></i> {{ phone.specifications.ram_options or 'N/A' }}
                                <i class="bi bi-hdd ms-2"></i> {{ phone.specifications.storage_options or 'N/A' }}
                                <i class="bi bi-camera ms-2"></i> {{ phone.specifications.rear_camera_main or 'N/A' }}MP
                            </small>
                        </div>
                        {% endif %}

                        <div class="mt-3">
                            <a href="{{ url_for('phone.details', phone_id=phone.id) }}" class="btn btn-primary btn-sm">
                                View Details
                            </a>
                            <a href="{{ url_for('phone.compare', phone1=phone.id) }}" class="btn btn-outline-primary btn-sm">
                                Compare
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="bg-primary text-white py-5">
    <div class="container text-center">
        <h2 class="mb-3">Ready to Find Your Perfect Phone?</h2>
        <p class="lead mb-4">Let our AI-powered system guide you to the best smartphone for your needs</p>
        <a href="{{ url_for('user.recommendation_wizard') }}" class="btn btn-light btn-lg">
            <i class="bi bi-arrow-right-circle"></i> Get Started Now
        </a>
    </div>
</section>

<style>
.bg-gradient-primary {
    background: linear-gradient(135deg, #0B5ED7 0%, #6C757D 100%);
}

.hover-lift {
    transition: transform 0.3s ease;
}

.hover-lift:hover {
    transform: translateY(-5px);
}
</style>
{% endblock %}
